var appVersion="app-version-"+(new Date).getTime(),staticRoutes=["/","/auth/login","/auth/register","/auth/forgot"];self.addEventListener("message",(e=>{const{command:t,data:s}=e.data;console.log("WorkerJob",{command:t,data:s}),e.ports[0].postMessage(s)})),self.addEventListener("install",(e=>{this.skipWaiting().then((()=>{e.waitUntil(caches.open(appVersion).then((e=>fetch("/mix-manifest.json").then((e=>e.json())).then((t=>{e.addAll(Object.entries(t).filter((([e,t])=>!e.endsWith(".map")&&!e.endsWith("worker.js")&&!e.endsWith("hot-update.js"))).map((([e,t])=>t)))})).then((()=>e.addAll(staticRoutes))).catch((e=>{console.error(e||"Worker Cache Error")})))))}))})),self.addEventListener("activate",(e=>{e.waitUntil(caches.keys().then((e=>Promise.all(e.filter((e=>e.startsWith("app-version-"))).filter((e=>e!==appVersion)).map((e=>caches.delete(e)))))))})),self.addEventListener("fetch",(e=>{e.respondWith(caches.match(e.request).then((t=>t||fetch(e.request).catch((e=>e)))))}));
