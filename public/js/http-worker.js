(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{T7hF:function(e,r,n){"use strict";function _defineProperties(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}n.r(r),n.d(r,"default",(function(){return t}));var t=function(){function WorkerService(Events){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,WorkerService),this.$events=Events}var e,r,n;return e=WorkerService,(r=[{key:"install",value:function(){return this.isSupported?navigator.serviceWorker.register("/worker.js",{scope:"."}).then((function(){return navigator.serviceWorker.ready})).then(this.onInstalled.bind(this),this.onFailed.bind(this)):console.warn("ServiceWorker UnAvailable"),this}},{key:"onInstalled",value:function(e){var r=this;setTimeout((function(){r.$events.$emit("worker:registered"),r.dispatch({test:123}).then((function(e){console.log("WorkerResult",e)}))}),1e3)}},{key:"onFailed",value:function(e){var r=this;setTimeout((function(){r.$events.$emit("worker:failed",e)}),1e3)}},{key:"dispatch",value:function(e){var r=this;return new Promise((function(n,t){r.isSupported&&r.isAvailable||t();var i=new MessageChannel;i.port1.onmessage=function(e){e.data.error?t(e.data.error):n(e.data)},navigator.serviceWorker.controller.postMessage(e,[i.port2])}))}},{key:"isSupported",get:function(){return"navigator"in window&&"serviceWorker"in navigator}},{key:"isAvailable",get:function(){return navigator.serviceWorker.controller}}])&&_defineProperties(e.prototype,r),n&&_defineProperties(e,n),WorkerService}()}}]);