(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{EhVk:function(t,n,e){"use strict";e.r(n);var a={name:"Widget",props:{value:{type:Object,required:!0}}},i=e("KHd+"),s=Object(i.a)(a,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"bg-gray-800 text-gray-500 shadow rounded w-full h-full p-2 relative"},[e("div",{staticClass:"absolute right-0 top-0 p-2"},[e("v-action",{staticClass:"btn btn-xs btn-red",on:{click:function(n){return t.$emit("remove")}}},[t._v("\n            x\n        ")])],1),t._v(" "),t._t("default")],2)}),[],!1,null,null,null).exports,o=e("e+jF"),l={name:"widget-layout",components:{GridLayout:o.GridLayout,GridItem:o.GridItem,Widget:s},data:function(){return{loading:!1,selected:"widget",layout:[],options:[{label:"My Comp",value:"widget",settings:{}}]}},methods:{fetch:function(){var t=this;this.loading=!0,this.$app.make("Http").get("/dashboard/layout").then((function(n){var e=n.data;return t.layout=e})).finally((function(){return t.loading=!1}))},save:function(){var t=this;this.loading=!0,this.$app.make("Http").post("/dashboard/layout",{layout:this.layout}).then((function(n){var e=n.data;return t.layout=e})).finally((function(){return t.loading=!1}))},add:function(){var t=this,n=this.options.find((function(n){return n.value===t.selected})),e=n.value,a=n.settings;this.layout.unshift({i:Math.random()*Math.random(),x:0,y:0,w:1,h:1,component:e,settings:a})},remove:function(t){var n=this.layout.findIndex((function(n){return n.i===t}));this.layout.splice(n,1)}}},r={name:"DashboardPage",components:{WidgetLayout:Object(i.a)(l,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("v-action",{staticClass:"btn btn-sm btn-blue",on:{click:t.add}},[t._v("\n        Add\n    ")]),t._v(" "),e("v-action",{staticClass:"btn btn-sm btn-blue",attrs:{loading:t.loading},on:{click:t.save}},[t._v("\n        Save\n    ")]),t._v(" "),e("grid-layout",{attrs:{"col-num":4,"row-height":120,margin:[0,0],"is-draggable":!0,"is-resizable":!0,"is-mirrored":!1,"vertical-compact":!0,"use-css-transforms":!0,layout:t.layout},on:{"update:layout":function(n){t.layout=n}}},t._l(t.layout,(function(n){return e("grid-item",{key:"widget-"+n.i,attrs:{x:n.x,y:n.y,w:n.w,h:n.h,i:n.i}},[e(n.component,{key:n.i,tag:"component",on:{remove:function(e){return t.remove(n.i)}},model:{value:n.settings,callback:function(e){t.$set(n,"settings",e)},expression:"item.settings"}},[t._v("\n                "+t._s(n.i)+"\n            ")])],1)})),1)],1)}),[],!1,null,null,null).exports}},u=Object(i.a)(r,(function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("WidgetLayout")],1)}),[],!1,null,null,null);n.default=u.exports},SHEF:function(t,n,e){"use strict";e.r(n);var a={name:"DashboardLayout"},i=e("KHd+"),s=Object(i.a)(a,(function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"layout p-4"},[n("h1",{staticClass:"page-title"},[this._v("Dashboard")]),this._v(" "),n("p",{staticClass:"page-lead"},[this._v("Widgets")]),this._v(" "),n("router-view")],1)}),[],!1,null,null,null);n.default=s.exports}}]);